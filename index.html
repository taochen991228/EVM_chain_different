
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>EVM生态导航</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

    <!-- 顶部 big tag -->
    <div id="top-tags" class="container">
        <div class="big-tag" data-url="chrome-extension://mcohilncbfahbmgdjkbpemcciiolgcge/home.html">OKX钱包</div>

         <div class="big-tag" id="insert-button-rari">添加RARI链</div>

        <div class="big-tag" id="switch-button-buy">跨链购买切换</div>
        <div class="big-tag" id="switch-button-mint">跨链铸造切换</div>
    </div>

    <!-- 所有其他分组容器 -->
    <div class="container" id="group-tags-container"></div>

    <script>
    (() => {
        const tagGroups = [
            {
                title: "espresso",
                tags: [
                    // { name: "layer3-week-1", url: "https://app.layer3.xyz/campaigns/brewing-the-future" },
                    { name: "layer3-2 week（RARI）", url: "https://app.layer3.xyz/activations/brewing-the-future-rari" },
                    { name: "layer3-2 week（MGX）", url: "https://app.layer3.xyz/activations/brewing-the-future-arbitrum" },
                    { name: "OKX钱包主页", url: "chrome-extension://mcohilncbfahbmgdjkbpemcciiolgcge/home.html" },
                    // { name: "邮箱注册", url: "https://mail.163.com/register/index.htm?from=163mail&utm_source=163mail#/normal" },
                    // { name: "存款-eth.cash", url: "https://app.eth.cash/" }
                ]
            },
            {
                title: "相关操作",
                tags: [
                    // { name: "添加RARI链", url: "https://taochen991228.github.io/opensea/" },
                    { name: "ARB to RARI", url: `https://bridge.arbitrum.io/?amount=${getRandomAmount()}&destinationChain=rari-mainnet&sourceChain=arbitrum-one&tab=bridge` },

                ]
            },
            {
                title: "opensea",
                tags: [
                    { name: "opensea汇总", url: "https://taochen991228.github.io/opensea/" }
                ]
            },
            {
            title: "跨链",
            tags: [
                { name: "relay", url: "https://relay.link/bridge/ethereum" },
                { name: "rotue", url: "https://app.routernitro.com/swap" },
                { name: "bungee", url: "https://www.bungee.exchange/" },
                { name: "jumper", url: "https://jumper.exchange/zh" },
                { name: "stargate", url: "https://stargate.finance/bridge" },
                { name: "across", url: "https://app.across.to/bridge" },
                { name: "gas", url: "https://www.gas.zip/" },
                { name: "minibridge", url: "https://minibridge.chaineye.tools/?src=arbitrum&dst=base&mode=transfer" },
                
                // { name: "    ", url: "    " },
                // { name: "    ", url: "    " },
                // { name: "    ", url: "    " },


                // { name: "pancakeswap", url: "https://pancakeswap.finance/swap" },
                // { name: "izumi", url: "https://izumi.finance/trade/swap" },
                // { name: "uniswap", url: "https://app.uniswap.org/swap" },
            ]
            },
            {
            title: "跨链-2",
            tags: [
                { name: "layerswap", url: "https://layerswap.io/app" },
                { name: "rhino", url: "https://app.rhino.fi/bridge?token=ETH&chainOut=ETHEREUM" },
                { name: "memebridge", url: "https://www.memebridge.xyz/bridge?original=optimism&target=ethereum&symbol=eth" },
                { name: "cometbridge", url: "https://cometbridge.app/?original=Arbitrum&target=Ethereum&symbol=ETH" },

            ]
            },
            {
            title: "跨链-RARI专用-1",
            tags: [
                { name: "relay-arb", url: "https://relay.link/bridge/arbitrum?fromChainId=1380012617&fromCurrency=0x0000000000000000000000000000000000000000&toCurrency=0x0000000000000000000000000000000000000000" },
                { name: "relay-base", url: "https://relay.link/bridge/base?fromChainId=1380012617&toCurrency=0x0000000000000000000000000000000000000000" },
                { name: "relay-op", url: "https://relay.link/bridge/optimism?fromChainId=1380012617&toCurrency=0x0000000000000000000000000000000000000000" },

                // { name: "retro-Bridge-ARB", url: "https://app.retrobridge.io/?destination=Arbitrum+One&tokenFrom=ETH&source=Rari+Chain&tokenTo=ETH" },
                // { name: "retro-Bridge-BASE", url: "https://app.retrobridge.io/?destination=Base&tokenFrom=ETH&source=Rari+Chain&tokenTo=ETH" },
                // { name: "retro-Bridge-OP", url: "https://app.retrobridge.io/?destination=Optimism&tokenFrom=ETH&source=Rari+Chain&tokenTo=ETH" },
                 { name: "Layerswap", url: "https://layerswap.io/app" },

                // { name: "Owlto_to_arb", url: "https://owlto.finance/?from=RARI&to=ARBitrum" },
                // { name: "Owlto_to_base", url: "https://owlto.finance/?from=RARI&to=Base" },
                // { name: "Owlto_to_op", url: "https://owlto.finance/?from=RARI&to=Optimism" },


                
                { name: "memeBridge-ARB", url: "https://www.memebridge.xyz/bridge?original=rari&target=arbitrum&symbol=eth" },
                { name: "memeBridge-BASE", url: "https://www.memebridge.xyz/bridge?original=rari&target=base&symbol=eth" },
                { name: "memeBridge-OP", url: "https://www.memebridge.xyz/bridge?original=rari&target=optimism&symbol=eth" },
                

            ]
            },
            {
            title: "跨链-RARI专用-2",
            tags: [
                { name: "decent", url: "https://app.decent.xyz/decent" },
                { name: "Layerswap", url: "https://layerswap.io/app" },
                // { name: "ARB-官方", url: "https://bridge.arbitrum.io/?destinationChain=arbitrum-one&sourceChain=rari-mainnet&tab=bridge" },

                // { name: "    ", url: "    " },
                // { name: "    ", url: "    " },
                // { name: "Stargate", url: "https://stargate.finance/bridge?srcChain=rarible&dstChain=arbitrum" },
            ]
            },
            
        ];
        

        const crossChainTagGroups = [
        {
            title: "",
            tags: [
            { name: "", url: "https://opensea.io/collection/virtual-vanguards-1/overview" },
            { name: "", url: "https://opensea.io/collection/fantasy-fighters/overview" },
            { name: "", url: "https://opensea.io/collection/space-shooters-1/overview" },
            { name: "", url: "https://opensea.io/collection/retro-rumble/overview" },
            { name: "", url: "https://opensea.io/collection/sports-spectacular/overview" },
            { name: "", url: "https://opensea.io/collection/fractal-frenzy-2/overview" },
            { name: "", url: "https://opensea.io/collection/color-chaos-1/overview" },
            { name: "", url: "https://opensea.io/collection/shape-symphony-1/overview" },
            { name: "", url: "https://opensea.io/collection/abstract-ascent/overview" },
            { name: "", url: "https://opensea.io/collection/infinite-illusions-3/overview" },
            { name: "", url: "https://opensea.io/collection/geometric-glory/overview" },
            { name: "", url: "https://opensea.io/collection/surreal-sequences/overview" },
            { name: "", url: "https://opensea.io/collection/conceptual-canvas/overview" },
            { name: "", url: "https://opensea.io/collection/abstract-allure-5/overview" },
            { name: "", url: "https://opensea.io/collection/creative-constellations/overview" },
            { name: "", url: "https://opensea.io/collection/feline-finesse/overview" },
            { name: "", url: "https://opensea.io/collection/canine-canopy/overview" },
            { name: "", url: "https://opensea.io/collection/avian-aesthetics/overview" },
            { name: "", url: "https://opensea.io/collection/reptilian-rhapsody/overview" },
            { name: "", url: "https://opensea.io/collection/set-up-your-drop/overview" },
            { name: "", url: "https://opensea.io/collection/pixelpinnacle/overview" },
            { name: "", url: "https://opensea.io/collection/yberchronicle/overview" },
            { name: "", url: "https://opensea.io/collection/pixelpioneer-3/overview" },
            { name: "", url: "https://opensea.io/collection/mysticmint-1/overview" },
            { name: "", url: "https://opensea.io/collection/etherealecho-3/overview" },
            { name: "", url: "https://opensea.io/collection/aetherarcane/overview" },
            { name: "", url: "https://opensea.io/collection/nebulanirvana/overview" },
            { name: "", url: "https://opensea.io/collection/cyberchronicle/overview" },
            { name: "", url: "https://opensea.io/collection/xiaohuolong/overview" },
            { name: "", url: "https://opensea.io/collection/celestialcipher-2/overview" },
            { name: "", url: "https://opensea.io/collection/quantumcanvas-3/overview" },
            { name: "", url: "https://opensea.io/collection/digitaldawn-1/overview" },
            { name: "", url: "https://opensea.io/collection/genesisgems-2/overview" },
            { name: "", url: "https://opensea.io/collection/quantumquirk/overview" },
            { name: "", url: "https://opensea.io/collection/aetherartifacts-1/overview" },
            { name: "", url: "https://opensea.io/collection/pixelpotion-1/overview" },
            { name: "", url: "https://opensea.io/collection/cyberserenade/overview" },
            { name: "", url: "https://opensea.io/collection/jienigui-1/overview" },
            { name: "", url: "https://opensea.io/collection/luminouslabyrinth-2/overview" },
            { name: "", url: "https://opensea.io/collection/celestialcipher-3/overview" },
            { name: "", url: "https://opensea.io/collection/block-black-cat/overview" },
            { name: "", url: "https://opensea.io/collection/etherealessence-4/overview" },
            { name: "", url: "https://opensea.io/collection/digitaldreamscape-6/overview" },
            { name: "", url: "https://opensea.io/collection/mysticmosaic-1/overview" },
            { name: "", url: "https://opensea.io/collection/quantumcanvas-4/overview" },
            { name: "", url: "https://opensea.io/collection/mysticmuse-2/overview" },
            { name: "", url: "https://opensea.io/collection/digitaldynamo-4/overview" },
            { name: "", url: "https://opensea.io/collection/quantumquilt-1/overview" },
            { name: "", url: "https://opensea.io/collection/etherealechoes-3/overview" }
            ]
  } 
    ];

        // 生成一个随机标签组，title 是随机tag的name，tags里只有这个tag
        function getRandomTagGroup(tagGroups) {
            const allTags = tagGroups.flatMap(group => group.tags);
            if (allTags.length === 0) return { title: '', tags: [] };

            const randomTag = allTags[Math.floor(Math.random() * allTags.length)];
            return {
                title: randomTag.name,
                tags: [randomTag]
            };
        }

   

        function createTagElement(tag) {
            const el = document.createElement('div');
            el.className = 'tag';
            el.textContent = tag.name;
            el.dataset.url = tag.url;
            el.addEventListener('click', () => {
                window.open(tag.url, '_blank');
            });
            return el;
        }

        // 通用渲染函数，接收标签组数组参数
        function renderGroups(groups) {
            const container = document.getElementById('group-tags-container');
            container.innerHTML = '';

            groups.forEach(group => {
                const card = document.createElement('div');
                card.className = 'group-card';

                const title = document.createElement('div');
                title.className = 'category-title';
                title.textContent = group.title || '';  // 防止空title报错
                card.appendChild(title);

                const tagGroup = document.createElement('div');
                tagGroup.className = 'tag-group';

                group.tags.forEach(tag => {
                    tagGroup.appendChild(createTagElement(tag));
                });

                card.appendChild(tagGroup);
                container.appendChild(card);
            });
        }


        function bindBigTagClicks() {
            document.querySelectorAll('.big-tag').forEach(el => {
                el.addEventListener('click', () => {
                    const url = el.dataset.url;
                    if (url) {
                        window.open(url, '_blank');
                    }
                });
            });
        }

        // 随机生成 0.005 到 0.01 之间的小数，保留 4 位小数
        function getRandomAmount(min = 0.0075, max = 0.0080) {
            return (Math.random() * (max - min) + min).toFixed(6);
        }







        crossChainTagGroups.forEach(group => {
            group.tags.forEach(tag => {
                // 提取 URL 中 collection/ 和 /overview 之间的部分作为 name
                const match = tag.url.match(/collection\/([^\/]+)\//);
                tag.name = match ? match[1] : '';
            });
            });

        window.addEventListener('DOMContentLoaded', () => {
            bindBigTagClicks();

            // 页面初始渲染默认标签组
            renderGroups(tagGroups);
        });



        document.getElementById("insert-button-rari").addEventListener("click", () => {
            bindBigTagClicks();
            // 再执行 MetaMask 相关代码
            if (typeof window.ethereum === "undefined") {
            console.error("MetaMask 未检测到，请先安装 MetaMask！");
            alert("MetaMask 未检测到，请先安装 MetaMask！");
            } else {
            addRariChain();
            }
        

            async function addRariChain() {
                try {
                // 请求连接 MetaMask 钱包
                await window.ethereum.request({ method: "eth_requestAccounts" });

                // RARI 链的参数
                const chainParams = {
                    chainId: "0x52415249", // 十六进制的 1380012617
                    chainName: "RARI Chain",
                    nativeCurrency: {
                    name: "Ethereum",
                    symbol: "ETH",
                    decimals: 18,
                    },
                    rpcUrls: ["https://mainnet.rpc.rarichain.org/http"],
                    blockExplorerUrls: ["https://mainnet.explorer.rarichain.org/"],
                };

                // 添加 RARI 链到 MetaMask
                await window.ethereum.request({
                    method: "wallet_addEthereumChain",
                    params: [chainParams],
                });

                console.log("✅ RARI Chain 已成功添加到 MetaMask！");
                } catch (error) {
                console.error("❌ 添加 RARI Chain 失败:", error.message || error);
                }
            }


        });


        document.getElementById("switch-button-buy").addEventListener("click", () => {
            bindBigTagClicks();
            renderGroups(tagGroups);

        });

        // 按钮点击切换渲染crossChainTagGroups
        document.getElementById("switch-button-mint").addEventListener("click", () => {
            const randomGroup = getRandomTagGroup(crossChainTagGroups);
            const combinedGroups = [...crossChainTagGroups, randomGroup];
            renderGroups(combinedGroups);

        });



    })();
    </script>
</body>
</html>
